---
import type { i18nImage } from "@sanity/custom.sanity.types";
import type { Props as PortableProps } from "astro-portabletext/types";
import { imageBuilder } from "@api/sanity";

interface Props extends PortableProps<i18nImage> {}

const image = Astro.props.node;

const locale = Astro.currentLocale!;
---

{
  image.asset?._id && (
    <img
      src={imageBuilder.image(image).url()}
      alt={image.asset?.altTexts?.[locale] || ""}
      class="mx-auto overflow-hidden rounded-xl shadow-xl shadow-primary/20"
      loading="lazy"
      decoding="async"
    />
  )
}
