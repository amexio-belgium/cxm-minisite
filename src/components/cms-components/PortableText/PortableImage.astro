---
import { imageBuilder } from "@api/sanity";
import type { i18nImage } from "@sanity/custom.sanity.types";
import type { Props as PortableProps } from "astro-portabletext/types";
import { siteLanguage } from "src/stores/global-store";

interface Props extends PortableProps<i18nImage> {}

const path = Astro.url.pathname;
const image = Astro.props.node;

const language = siteLanguage.get();
---

{
  image.asset?._id && (
    <img
      src={imageBuilder.image(image.asset?._id).height(1024).url()}
      loading="lazy"
      decoding="async"
      alt={image.asset.altTexts?.[language]}
      class="mx-auto my-8 overflow-hidden rounded-xl shadow-xl shadow-primary/20"
      height="1024"
    />
  )
}
