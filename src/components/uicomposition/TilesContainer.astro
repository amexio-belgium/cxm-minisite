---
import { PortableText } from "astro-portabletext";
import {defaultComponents} from "../cms-components/PortableText/helper";

interface Props {
  headline: string | undefined;
  description: any;
  orangeSlant?: boolean;
  class?: string;
}

const {
  headline,
  description,
  orangeSlant = false,
  class: className,
} = Astro.props;
---

<div
  class:list={[
    "relative my-20 inline-flex w-full flex-col items-start justify-start gap-20 bg-cover",
    className,
  ]}
>
  {
    orangeSlant ? (
      <div class="absolute -bottom-20 -right-3/4 -z-10 h-[1000px] w-[250%] bg-[url('/background/slant_orange.svg')] bg-contain bg-no-repeat sm:-right-full md:-top-20 md:w-[1240px] lg:-right-1/3" />
    ) : (
      <slot name="bg-image" />
    )
  }

  <div class="flex flex-col items-start justify-start gap-6 lg:w-9/12">
    {
      headline && (
        <h2 class="text-balance font-serif text-3xl">{headline}</h2>
      )
    }
    {
      description && (
        <div class="max-w-prose text-base font-light">
          <PortableText components={defaultComponents} value={description} />
        </div>
      )
    }
  </div>
  <div
    class="inline-flex w-full flex-col items-stretch justify-start gap-8 lg:flex-row"
  >
    <slot />
  </div>
</div>
