{
  "version": 3,
  "sources": ["../../stackbit.config.ts"],
  "sourcesContent": ["// stackbit.config.ts\nimport path from \"path\";\nimport {\n  defineStackbitConfig,\n  type SiteMapEntry,\n  getLocalizedFieldForLocale,\n} from \"@stackbit/types\";\nimport { SanityContentSource } from \"@stackbit/cms-sanity\";\n\nexport default defineStackbitConfig({\n  stackbitVersion: \"~0.6.0\",\n  ssgName: \"custom\",\n  nodeVersion: \"20\",\n  devCommand: \"node_modules/.bin/astro dev --port {PORT} --hostname 127.0.0.1\",\n  import: {\n    type: \"sanity\",\n    contentFile: \"sanity-export/export.tar.gz\",\n    sanityStudioPath: \"studio\",\n    deployStudio: true,\n    deployGraphql: false,\n    projectIdEnvVar: \"SANITY_PROJECT_ID\",\n    datasetEnvVar: \"SANITY_DATASET\",\n    tokenEnvVar: \"SANITY_TOKEN\",\n  },\n  experimental: {\n    ssg: {\n      name: \"Astro\",\n      logPatterns: {\n        up: [\"is ready\", \"astro\"],\n      },\n      directRoutes: {\n        \"socket.io\": \"socket.io\",\n      },\n      passthrough: [\"/vite-hmr/**\"],\n    },\n  },\n  contentSources: [\n    new SanityContentSource({\n      rootPath: __dirname,\n      studioPath: \"../cxm-minisite-cms/\",\n      studioUrl: \"\",\n      projectId: process.env.SANITY_PROJECT_ID!,\n      token: process.env.SANITY_TOKEN!,\n      dataset: process.env.SANITY_DATASET || \"production\",\n    }),\n  ],\n  mapModels({ models }) {\n    return models.map((model) => {\n      return {\n        ...model,\n        // Add or adjust model properties ...\n      };\n    });\n  },\n  modelExtensions: [\n    {\n      name: \"contentPage\",\n      type: \"page\",\n      urlPath: \"/{slug}\",\n      fields: [{ name: \"pageId\", type: \"string\", hidden: true }],\n    },\n    {\n      name: \"blogPost\",\n      type: \"page\",\n      urlPath: \"/insights/{slug}\",\n    },\n    {\n      name: \"service\",\n      type: \"page\",\n      urlPath: \"/services/{slug}\",\n    },\n    {\n      name: \"referenceCase\",\n      type: \"page\",\n      urlPath: \"/work/{slug}\",\n    },\n  ],\n  siteMap: ({ documents, models }) => {\n    const pageModels = models\n      .filter((m) => m.type === \"page\")\n      .map((m) => m.name);\n    return documents\n      .filter((d) => pageModels.includes(d.modelName))\n      .map((document) => {\n        const doc = document as any;\n        // 3: use the pageId value for the stableId\n\n        const slug = doc?.context?.publishedDocument?.metadata?.slug?.current;\n\n        if (!slug || slug === \"\") return null;\n\n        const urlPath = `/${doc?.context?.publishedDocument.language}/${slug.replace(/^\\/+/, \"\")}`;\n\n        return {\n          urlPath,\n          document,\n          isHomePage: urlPath === \"/\",\n        };\n      })\n      .filter(Boolean) as SiteMapEntry[];\n  },\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,mBAIO;AACP,wBAAoC;AAEpC,IAAO,8BAAQ,mCAAqB;AAAA,EAClC,iBAAiB;AAAA,EACjB,SAAS;AAAA,EACT,aAAa;AAAA,EACb,YAAY;AAAA,EACZ,QAAQ;AAAA,IACN,MAAM;AAAA,IACN,aAAa;AAAA,IACb,kBAAkB;AAAA,IAClB,cAAc;AAAA,IACd,eAAe;AAAA,IACf,iBAAiB;AAAA,IACjB,eAAe;AAAA,IACf,aAAa;AAAA,EACf;AAAA,EACA,cAAc;AAAA,IACZ,KAAK;AAAA,MACH,MAAM;AAAA,MACN,aAAa;AAAA,QACX,IAAI,CAAC,YAAY,OAAO;AAAA,MAC1B;AAAA,MACA,cAAc;AAAA,QACZ,aAAa;AAAA,MACf;AAAA,MACA,aAAa,CAAC,cAAc;AAAA,IAC9B;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,IAAI,sCAAoB;AAAA,MACtB,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,WAAW,QAAQ,IAAI;AAAA,MACvB,OAAO,QAAQ,IAAI;AAAA,MACnB,SAAS,QAAQ,IAAI,kBAAkB;AAAA,IACzC,CAAC;AAAA,EACH;AAAA,EACA,UAAU,EAAE,OAAO,GAAG;AACpB,WAAO,OAAO,IAAI,CAAC,UAAU;AAC3B,aAAO;AAAA,QACL,GAAG;AAAA;AAAA,MAEL;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EACA,iBAAiB;AAAA,IACf;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,MACT,QAAQ,CAAC,EAAE,MAAM,UAAU,MAAM,UAAU,QAAQ,KAAK,CAAC;AAAA,IAC3D;AAAA,IACA;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA;AAAA,MACE,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACF;AAAA,EACA,SAAS,CAAC,EAAE,WAAW,OAAO,MAAM;AAClC,UAAM,aAAa,OAChB,OAAO,CAAC,MAAM,EAAE,SAAS,MAAM,EAC/B,IAAI,CAAC,MAAM,EAAE,IAAI;AACpB,WAAO,UACJ,OAAO,CAAC,MAAM,WAAW,SAAS,EAAE,SAAS,CAAC,EAC9C,IAAI,CAAC,aAAa;AACjB,YAAM,MAAM;AAGZ,YAAM,OAAO,KAAK,SAAS,mBAAmB,UAAU,MAAM;AAE9D,UAAI,CAAC,QAAQ,SAAS;AAAI,eAAO;AAEjC,YAAM,UAAU,IAAI,KAAK,SAAS,kBAAkB,QAAQ,IAAI,KAAK,QAAQ,QAAQ,EAAE,CAAC;AAExF,aAAO;AAAA,QACL;AAAA,QACA;AAAA,QACA,YAAY,YAAY;AAAA,MAC1B;AAAA,IACF,CAAC,EACA,OAAO,OAAO;AAAA,EACnB;AACF,CAAC;",
  "names": []
}
